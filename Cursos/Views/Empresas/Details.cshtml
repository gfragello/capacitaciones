@model Cursos.Models.Empresa
@using PagedList.Mvc;
@using Cursos.Models;

@{
    ViewBag.Title = "Details";
}

<div>
    <h4>Empresa - Detalles</h4>
    <p>
        @if (!string.IsNullOrEmpty(Model.Email))
        {
            <a href="mailto:@Model.Email"><img src="@Url.Content("~/images/email.png")" title="Enviar mail" /></a>
        }
        else
        {
            <img src="@Url.Content("~/images/email_disabled.png")" />
        }


    </p>
    @Html.Partial("_DatosModificacionPartial", Model)
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.NombreFantasia)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.NombreFantasia)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Domicilio)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Domicilio)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.RazonSocial)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.RazonSocial)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.RUT)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.RUT)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.DepartamentoID)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Departamento.Nombre)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Localidad)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Localidad)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.CodigoPostal)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.CodigoPostal)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Email)
        </dt>

        <dd>
            @if (!string.IsNullOrEmpty(Model.Email))
            {
                foreach (var email in Model.Email.Split(','))
                {
                    <a href='mailto:@email'>@email</a>
                    <br />
                }
            }
        </dd>

    </dl>
</div>
@if (Model.Usuarios.Count > 0)
{
<hr />

<h4>Usuarios</h4>

<table class="table">
    @foreach (EmpresaUsuario eu in Model.Usuarios)
    {
        <tr>
            <td>
                <label>@eu.Usuario</label>
            </td>
        </tr>
    }
</table>
}
<hr />

<h4>Capacitados</h4>

@Html.Partial("_ListCapacitadosPartial", (PagedList.IPagedList<Cursos.Models.Capacitado>)ViewBag.Capacitados)

<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.EmpresaID }) |
    @Html.ActionLink("Back to List", "Index")
</p>
